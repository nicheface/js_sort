(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function t(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(n){if(n.ep)return;n.ep=!0;const l=t(n);fetch(n.href,l)}})();function*q(e){const i=e.length;for(let t=0;t<i-1;t++)for(let o=0;o<i-t-1;o++)e[o]>e[o+1]&&([e[o],e[o+1]]=[e[o+1],e[o]],yield{arr:[...e],highlight:[o,o+1]})}function*w(e){const i=e.length;for(let t=0;t<i-1;t++){let o=t;for(let n=t+1;n<i;n++)e[n]<e[o]&&(o=n),yield{arr:[...e],highlight:[t,n,o]};o!==t&&([e[t],e[o]]=[e[o],e[t]],yield{arr:[...e],highlight:[t,o]})}}function*T(e){const i=e.length;for(let t=1;t<i;t++){let o=e[t],n=t-1;for(;n>=0&&e[n]>o;)e[n+1]=e[n],n--,yield{arr:[...e],highlight:[t,n+1]};e[n+1]=o,yield{arr:[...e],highlight:[t,n+1]}}}function*h(e,i=0,t=e.length-1){if(i<t){const o=yield*$(e,i,t);yield*h(e,i,o-1),yield*h(e,o+1,t)}}function*$(e,i,t){const o=e[t];let n=i-1;for(let l=i;l<t;l++)e[l]<o&&(n++,[e[n],e[l]]=[e[l],e[n]],yield{arr:[...e],highlight:[n,l,t]});return[e[n+1],e[t]]=[e[t],e[n+1]],yield{arr:[...e],highlight:[n+1,t]},n+1}function*f(e,i=0,t=e.length-1){if(i<t){const o=Math.floor((i+t)/2);yield*f(e,i,o),yield*f(e,o+1,t),yield*x(e,i,o,t)}}function*x(e,i,t,o){const n=e.slice(i,t+1),l=e.slice(t+1,o+1);let s=0,d=0,c=i;for(;s<n.length&&d<l.length;)n[s]<=l[d]?(e[c]=n[s],s++):(e[c]=l[d],d++),c++,yield{arr:[...e],highlight:[c-1,i+s-1,t+1+d-1]};for(;s<n.length;)e[c]=n[s],s++,c++,yield{arr:[...e],highlight:[c-1]};for(;d<l.length;)e[c]=l[d],d++,c++,yield{arr:[...e],highlight:[c-1]}}function*O(e){const i=e.length;for(let t=Math.floor(i/2)-1;t>=0;t--)yield*m(e,i,t);for(let t=i-1;t>0;t--)[e[0],e[t]]=[e[t],e[0]],yield{arr:[...e],highlight:[0,t]},yield*m(e,t,0)}function*m(e,i,t){let o=t;const n=2*t+1,l=2*t+2;n<i&&e[n]>e[o]&&(o=n),l<i&&e[l]>e[o]&&(o=l),o!==t&&([e[t],e[o]]=[e[o],e[t]],yield{arr:[...e],highlight:[t,o]},yield*m(e,i,o))}const F={bubble:q,selection:w,insertion:T,quick:h,merge:f,heap:O},C={bubble:"Bubble Sort",selection:"Selection Sort",insertion:"Insertion Sort",quick:"Quick Sort",merge:"Merge Sort",heap:"Heap Sort"},L=document.getElementById("canvasContainer"),p=document.getElementById("start"),b=document.getElementById("stop"),P=document.getElementById("reset"),H=document.getElementById("speedSlider"),I=document.getElementById("disorderSlider"),r=document.getElementById("leaderboardContainer");let a=!1,u={},g=0,y=[];function z(e){const i=document.createElement("div");i.className="algorithm-display";const t=document.createElement("canvas");t.width=200,t.height=200,t.setAttribute("data-algorithm",e);const o=document.createElement("div");o.className="algorithm-name",o.textContent=C[e];const n=document.createElement("div");return n.className="algorithm-timer",n.textContent="0.00s",n.id=`timer-${e}`,i.appendChild(t),i.appendChild(o),i.appendChild(n),L.appendChild(i),t}function N(e,i){const t=Array.from({length:e},(n,l)=>l+1),o=Math.floor(e*i/100);for(let n=0;n<o;n++){const l=Math.floor(Math.random()*e),s=Math.floor(Math.random()*e);[t[l],t[s]]=[t[s],t[l]]}return t}function B(e,i,t=[]){const o=e.canvas.width,n=e.canvas.height,l=o/i.length;e.clearRect(0,0,o,n),i.forEach((s,d)=>{const c=s/i.length*n;e.fillStyle=t.includes(d)?"#ff0000":"#3498db",e.fillRect(d*l,n-c,l,c)})}async function R(e,i,t,o){const n=t.getContext("2d"),l=F[e],s=l([...i]),d=performance.now(),c=document.getElementById(`timer-${e}`);function v(){if(!a)return;const{value:A,done:k}=s.next();if(k){const E=(performance.now()-d)/1e3;c.textContent=`${E.toFixed(2)}s`,u[e]=E,g++,g===Object.keys(u).length&&V();return}B(n,A.arr,A.highlight);const j=(performance.now()-d)/1e3;c.textContent=`${j.toFixed(2)}s`,setTimeout(()=>requestAnimationFrame(v),101-o)}requestAnimationFrame(v)}function V(){const e=Object.entries(u).sort(([,i],[,t])=>i-t).map(([i,t],o)=>`${o+1}. ${C[i]}: ${t.toFixed(2)}s`);r.innerHTML="<h2>Leaderboard</h2><ol>"+e.map(i=>`<li>${i}</li>`).join("")+"</ol>",r.style.display="block"}function S(){const e=Array.from(document.querySelectorAll('input[name="algorithm"]:checked')).map(o=>o.value),i=50,t=parseInt(I.value);y=N(i,t),L.innerHTML="",u={},g=0,e.forEach(o=>{const n=z(o);B(n.getContext("2d"),y)})}function D(){if(a)return;a=!0,p.disabled=!0,b.disabled=!1,r.style.display="none";const e=Array.from(document.querySelectorAll('input[name="algorithm"]:checked')).map(t=>t.value),i=parseInt(H.value);e.forEach(t=>{const o=document.querySelector(`canvas[data-algorithm="${t}"]`);R(t,y,o,i)})}function M(){a=!1,p.disabled=!1,b.disabled=!0}function K(){M(),S(),r.style.display="none"}p.addEventListener("click",D);b.addEventListener("click",M);P.addEventListener("click",K);I.addEventListener("input",S);S();console.log("Sorting Algorithms Visualization initialized. Click 'Start Sorting' to begin.");
